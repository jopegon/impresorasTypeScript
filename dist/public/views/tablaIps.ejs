<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title %>
    </title>

    <link rel="icon" href="/img/favicon.ico" type="image/x-icon">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/bootstrapCss/bootstrap.min.css" />
    <link rel="stylesheet" href="/bootStrapIcons/bootstrap-icons.css" />

    <script src="/bootStrapJs/bootstrap.js"></script>

    <style>
        .table-responsive {
            max-height: 600px;
        }

        /* Opcional: resaltar texto filtrado (simple) */
        .highlight {
            background-color: rgba(255, 235, 59, 0.3);
        }
    </style>
</head>

<body class="bg-light">
    <div class="container py-4">
        <h1 class="mb-4 text-center">
            <%= title %>
        </h1>
        <div class="mb-3">
            <input id="buscador" type="text" class="form-control" placeholder="Buscar en la tabla...">
        </div>
    </div>
    <div class="container py-4">
        <div class="table-responsive">
            <table id="tabla-impresoras" class="table table-striped table-bordered">
                <thead class="table-dark">
                    <tr>
                        <th>IP</th>
                        <th>Modelo</th>
                        <th>Nº Serie</th>
                        <th>Localización</th>
                        <th>Conectada</th>
                        <th>Negro</th>
                        <th>Cyan</th>
                        <th>Amarillo</th>
                        <th>Magenta</th>
                        <th>Estadística</th>
                    </tr>
                </thead>
                <tbody>
                    <% listaImpresoras.forEach(function(impresora) { %>
                        <tr>
                            <td>
                                <%= impresora.getIp() %>
                            </td>
                            <td>
                                <%= impresora.getModelo() %>
                            </td>
                            <td>
                                <%= impresora.getNumeroDeSerie() %>
                            </td>
                            <td>
                                <%= impresora.getLocalizacion() %>
                            </td>
                            <td>
                                <%= impresora.getConectada() %>
                            </td>
                            <td>
                                <%= impresora.getNegro() %>
                            </td>
                            <td>
                                <%= impresora.getCyan() %>
                            </td>
                            <td>
                                <%= impresora.getAmarillo() %>
                            </td>
                            <td>
                                <%= impresora.getMagenta() %>
                            </td>
                            <td>Est</td>

                        </tr>
                        <% }); %>
                </tbody>
            </table>
        </div>
    </div>
    <script>
        document.getElementById("buscador").addEventListener("keyup", function () {
            const filtro = this.value.toLowerCase();
            const filas = document.querySelectorAll("#tabla-impresoras tbody tr");

            filas.forEach(fila => {
                const textoFila = fila.innerText.toLowerCase();

                // Mostrar/ocultar fila según coincida con el texto
                if (textoFila.includes(filtro)) {
                    fila.style.display = "";
                } else {
                    fila.style.display = "none";
                }
            });
        });
    </script>

</body>

</html>